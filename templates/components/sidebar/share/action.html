{% extends "../action.html" %}

{% block icon %}
{% include "./icon.html" %}
{% endblock icon %}

{% block button_text %}
Partager
{% endblock button_text %}

{% block modal_title %}
Partager ce simulateur
{% endblock modal_title %}

{% block modal_content %}
<div class="fr-share" role="toolbar">
    <ul class="fr-btns-group">
        <li>
            <a class="fr-btn--facebook fr-btn"
            target="_blank"
            rel="noreferrer"
            title="partager cette page sur Facebook - nouvelle fenêtre"
            href="https://www.facebook.com/sharer.php?u={{ request.build_absolute_uri|urlencode }}"
            tabindex="-1"
            >
                Partager sur Facebook
            </a>
        </li>
        <li>
            {# Les paramètres de la reqûete doivent être URI-encodés (ex: encodeURIComponent() en js) #}
            <a  class="fr-btn--twitter-x fr-btn"
            target="_blank"
            rel="noreferrer"
            title="partager cette page sur X - nouvelle fenêtre"
            href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri|urlencode }}&text=Super object trouvée grâce à l'ADEME&via=Longue+vie+aux+objets&hashtags=longuevieauxobjets,ademe"
            tabindex="-1"
            >
                Partager sur X (anciennement Twitter)
            </a>
        </li>
        <li>
            <a  class="fr-btn--linkedin fr-btn"
            target="_blank"
            rel="noreferrer"
            title="partager cette page sur LinkedIn - nouvelle fenêtre"
            onclick="window.open(this.href,'Partager sur LinkedIn','toolbar=no,location=yes,status=no,menubar=no,scrollbars=yes,resizable=yes,width=550,height=550'); event.preventDefault();"
            href="https://www.linkedin.com/shareArticle?url={{ request.build_absolute_uri|urlencode }}&title=Super object trouvée grâce à l'ADEME"
            tabindex="-1"
            >
                Partager sur LinkedIn
            </a>
        </li>
        <li>
            <a  class="fr-btn--mail fr-btn"
            target="_blank"
            rel="noreferrer"
            title="partager cette page par email - nouvelle fenêtre"
            href="mailto:?subject=Super object trouvée grâce à l'ADEME&body=Super object trouvée grâce à l'ADEME : {{ request.build_absolute_uri|urlencode }}"
            tabindex="-1"
            >
                Partager par email
            </a>
        </li>
        <li>
            <button class="fr-btn--copy fr-btn"
                    onclick="navigator.clipboard.writeText('{{ request.build_absolute_uri }}').then(function() {alert('Adresse copiée dans le presse papier.')});"
                    type="button"
                    tabindex="-1"
            >
                Copier dans le presse-papier
            </button>
        </li>
    </ul>
</div>
{% endblock modal_content %}

{# TODO: documenter #}
{% block modal_wrapper_for_id %}
    {% with id="partager-le-simulateur" %}
    {{ block.super }}
    {% endwith %}
{% endblock modal_wrapper_for_id %}
