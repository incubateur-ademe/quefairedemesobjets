{% extends 'layout/base.html' %}

{% block content %}
    <div class="fr-container fr-container--fluid fr-mb-md-14v fr-pt-4w">
        <div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center">
            <h1>Connexion à Que Faire de mes objets</h1>
            {% if form.errors %}
                <p>Votre nom d'utilisateur et mot de passe ne correspondent pas. Merci de réessayer.</p>
            {% endif %}

            {% if next %}
                {% if user.is_authenticated %}
                    <p>Votre compte utilisateur n'a pas accès à cette page. Pour continuer, merci de vous identifier avec un compte ayant les droits suffisants.</p>
                {% else %}
                    <p>Merci de vous connecter pour voir cette page.</p>
                {% endif %}
            {% endif %}

            <form method="post" action="{{ url('qfdmo:login') }}">
                {{ csrf_input }}
                <input type="hidden" name="next" value="{{ next }}">
                <fieldset class="fr-fieldset">
                    <legend class="fr-fieldset__legend" id="login-1760-fieldset-legend">
                        <h2>Se connecter avec son compte</h2>
                    </legend>
                    <div class="fr-fieldset__element">
                        <fieldset class="fr-fieldset">
                            <div class="fr-fieldset__element">
                                <div class="fr-input-group">
                                    <label class="fr-label" for="{{ form.username.id_for_label }}">
                                        Identifiant
                                    </label>
                                    <input class="fr-input" autocomplete="username" aria-required="true" name="username" id="{{ form.username.id_for_label }}" type="text">
                                </div>
                            </div>
                            <div class="fr-fieldset__element">
                                <div class="fr-password" id="{{ form.password.id_for_label }}">
                                    <label class="fr-label" for="{{ form.password.id_for_label }}">
                                        Mot de passe
                                    </label>
                                    <div class="fr-input-wrap">
                                        <input class="fr-password__input fr-input" aria-required="true" name="password" autocomplete="current-password" id="{{ form.password.id_for_label }}" type="password">
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="fr-fieldset__element">
                        <ul class="fr-btns-group">
                            <li>
                                <button class="fr-mt-2v fr-btn">
                                    Se connecter
                                </button>
                            </li>
                        </ul>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>

{% endblock content %}

