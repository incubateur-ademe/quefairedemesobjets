{% extends "qfdmo/shared/_main.html" %}

{% include "qfdmo/partials/featureflip_inputs.html" %}

{% block main_classes %}
{#
We need to set a size on the map to help Leaflet size its content.
We do not want the map to be bigger than the height of its container

The values of 250px is determined empirically.
They need to match the css variables used for .grid-map selector in qfdmo.css
#}
max-md:qfdmo-h-[calc(100vh_-_250px)]
{% endblock main_classes %}

{% block content_header %}
    {# Panel Filtres avancés et modifier ma recherche #}
    {% include 'qfdmo/formulaire/header.html' %}
{% endblock content_header %}

{% block everything_else %}{% endblock everything_else %}

{% block content_modals %}
{# Panel «Formulaire de recherche» #}
{% include 'qfdmo/formulaire/search_form.html' %}

{# Panel «Filtres avancés» #}
{% include 'qfdmo/formulaire/advanced_filters.html' %}
{% endblock content_modals %}

{% block content_footer %}
    <div
        class="qfdmo-px-2w sm:qfdmo-px-0 qfdmo-duration-300 sm:qfdmo-h-fit sm:qfdmo-mr-1w qfdmo-flex qfdmo-flex-row-reverse"
        data-search-solution-form-target="proposeAddressPanel"
    >
        <a class="fr-my-1w fr-btn fr-btn--tertiary qfdmo-whitespace-nowrap qfdmo-w-full sm:qfdmo-w-max qfdmo-flex qfdmo-justify-center"
            href="{{ url('qfdmo:address-suggestion-form') }}"
            target="_blank"
            rel="noreferrer"
            aria-label="Proposer une adresse - Nouvelle fenêtre"
        >
            Proposer une adresse
        </a>
    </div>

    {# Liens de pieds de page pour iframe #}
    {% include 'qfdmo/_addresses_partials/iframe_footer_links.html' %}
{% endblock content_footer %}
