<div id="{{action_direction}}_fieldset" data-search-solution-form-target='{{action_direction}}'>
    <fieldset class="fr-fieldset fr-mx-0 fr-p-0 fr-mb-1w sm:qfdmo-max-w-[600px]" aria-labelledby="action-by-direction-legend-{{ action_direction }}">
        <legend class="fr-px-0" id="action-by-direction-legend-{{ action_direction }}">Je souhaite :</legend>
        {% for action in action_by_direction(request, action_direction) %}
            <div class="fr-fieldset__element fr-my-1v">
                <div
                    class="fr-checkbox-group fr-p-1v
                           qfdmo-w-fit qfdmo-bg-{{action.couleur}} qfdmo-bg-opacity-30"
                    data-action="click->search-solution-form#apply"
                >
                    <input
                        name="{{action.code}}"
                        {% if action.code == 'reparer' %}
                            data-action="change -> search-solution-form#activeReparerFilters"
                            data-search-solution-form-target="reparerInput"
                        {% endif %}
                        id="{{action_direction}}_{{action.code}}"
                        type="checkbox"
                        {% if action.active %} checked{% endif %}
                    >
                    <label class="fr-label before:qfdmo-bg-white fr-text--sm fr-mb-0" for="{{action_direction}}_{{action.code}}">
                        {% if action.icon %}
                            <span class="{{ action.icon }}" aria-hidden="true"></span>&nbsp;
                        {% endif %}
                        {{ action.libelle }}
                    </label>
                </div>
            </div>
        {% endfor %}
    </fieldset>
</div>
