/*
Schema generated by scripts/db_schema_create_from_csv.py
  - 游댮 Column we might want to drop post import is cad_parcelles
*/

CREATE TABLE {{table_name}} (
  "id" VARCHAR(28), -- 游리 on reste scrict sur max (des IDs avec 16)
  "id_fantoir" CHAR(10), -- 游리 on reste scrict (min/max=10)
  "numero" VARCHAR(10), -- 8 -> 10
  "rep" VARCHAR(15), -- 9 -> 15
  "nom_voie" VARCHAR(130), -- 114 -> 130
  "code_postal" CHAR(5),  -- 游리 on reste scrict (min/max=5)
  "code_insee" CHAR(5),  -- 游리 on reste scrict (min/max=5)
  "nom_commune" VARCHAR(60), -- 45 -> 60
  "code_insee_ancienne_commune" CHAR(5),  -- 游리 on reste scrict (min/max=5)
  "nom_ancienne_commune" VARCHAR(51), -- 51 -> 60
  "x" FLOAT4,
  "y" FLOAT4,
  "lon" FLOAT4,
  "lat" FLOAT4,
  "type_position" VARCHAR(25), -- 18 -> 25
  "alias" VARCHAR(10),
  "nom_ld" VARCHAR, -- 91 ->
  "libelle_acheminement" VARCHAR(40), -- 31 -> 40
  "nom_afnor" VARCHAR(50), -- 41 -> 50
  "source_position" VARCHAR(15), -- 8 -> 15
  "source_nom_voie" VARCHAR(15), -- 8 -> 15
  "certification_commune" CHAR(1), -- 游리 on reste scrict (min/max=1)
  "cad_parcelles" TEXT
);

/* Constraints
Just to verify that our import is working correctly
ALTER TABLE {{table_name}}
ADD CONSTRAINT pk_{{table_name}} PRIMARY KEY (id);

游댮 Can't use primary key on "id" as of 2025-03-24 contains duplicates:
Key (id)=(05061_dr3l2k_00024_b) already exists.
*/